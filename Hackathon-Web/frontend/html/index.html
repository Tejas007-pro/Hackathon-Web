<script>
  const API_URL = "http://localhost:5000/api/social";

  // Fetch posts
  async function fetchPosts() {
    const res = await fetch(API_URL);
    const posts = await res.json();
    const container = document.getElementById("posts");
    container.innerHTML = posts
      .map((p) => `<div><h3>${p.title}</h3><p>${p.content}</p></div>`)
      .join("");
  }

  // Add a post
  async function addPost(e) {
    e.preventDefault();
    const title = document.getElementById("title").value;
    const content = document.getElementById("content").value;

    await fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ title, content }),
    });

    fetchPosts(); // refresh list
  }

  document.addEventListener("DOMContentLoaded", () => {
    fetchPosts();
    document.getElementById("postForm").addEventListener("submit", addPost);
  });
</script>

<h2>Add Post</h2>
<form id="postForm">
  <input type="text" id="title" placeholder="Title" required />
  <textarea id="content" placeholder="Content" required></textarea>
  <button type="submit">Add</button>
</form>

<h2>Posts</h2>
<div id="posts"></div>

